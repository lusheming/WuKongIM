import{d as _,r as i,b as g,c as m,j as e,t as f,u as h,W as b,w as r,v as u,z as x,A as c,_ as k}from"./index-fc7f73a5.js";const y="/chatdemo/logo.png",w={class:"hello"},U={class:"form"},V={class:"item"},A={class:"field"},I={class:"item"},P={class:"field"},D={class:"item"},L={class:"field"},B=_({__name:"Login",setup(C){const p=x();var s=(o=>{var l=new RegExp("(^|&)"+o+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(l);return t!=null?unescape(t[2]):null})("apiurl");!s||(s==null?void 0:s.trim())==""?s="http://127.0.0.1:5001":s&&s.endsWith("/")&&(s=s.substring(0,s.length-1)),console.log("apiurl--->",s),i(0);const d=i(s||""),a=i(""),n=i(""),v=()=>{c.shared.config.apiURL=d.value,c.shared.post("/user/token",{uid:a.value,token:n.value||"default111111",device_flag:1,device_level:0}).then(o=>{console.log(o),p.push({path:"/chat",query:{uid:a.value,token:n.value}})}).catch(o=>{alert(o.msg)})};return(o,l)=>(g(),m("div",w,[l[6]||(l[6]=e("div",null,[e("a",{href:"https://githubim.com",target:"_blank"},[e("img",{src:y,class:"logo",alt:"Vite logo"})])],-1)),e("p",null," 悟空IM演示程序，当前SDK版本：[v"+f(h(b).shared().config.sdkVersion)+"] ",1),e("div",U,[e("div",V,[l[3]||(l[3]=e("div",{class:"label"},[e("label",null,"API基地址")],-1)),e("div",A,[r(e("input",{type:"text",placeholder:"请输入API基地址","onUpdate:modelValue":l[0]||(l[0]=t=>d.value=t)},null,512),[[u,d.value]])])]),e("div",I,[l[4]||(l[4]=e("div",{class:"label"},[e("label",null,"登录账号")],-1)),e("div",P,[r(e("input",{type:"text",placeholder:"演示下，随便输，唯一即可","onUpdate:modelValue":l[1]||(l[1]=t=>a.value=t)},null,512),[[u,a.value]])])]),e("div",D,[l[5]||(l[5]=e("div",{class:"label"},[e("label",null,"登录密码")],-1)),e("div",L,[r(e("input",{type:"text",placeholder:"演示下，随便输","onUpdate:modelValue":l[2]||(l[2]=t=>n.value=t)},null,512),[[u,n.value]])])]),e("button",{class:"submit",onClick:v},"登录")])]))}});const S=k(B,[["__scopeId","data-v-6e16c5bf"]]);export{S as default};
